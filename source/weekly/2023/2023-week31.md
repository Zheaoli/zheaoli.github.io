# 2023 年第31周周报

emmmmmm，这周又是挺 tough 的一周

## 生活

1. 先聊聊个人的状态吧：
    1. 这周状态其实不太好，有了一次自杀行为，一只脚卖出了窗外，不过被妹子死命拉了回来。
    2. 这周的噩梦又回来了，这也是触发我突然一下脑子失控试图跳楼的原因。
    3. 医生判断我这只是混合期的状态波动，调整了下药物，争取尽快去门诊调整药量
2. 聊聊小狗的近况吧
    1. 最近在尝试给小狗试试生骨肉饮食。
    2. 小狗最近学东西很快，很多误导基础动作医学就会
3. 本周的娱乐时间
    1. CSGO 这周只打了一局，手感奇差
    2. 这周看完了日剧重版出来
        1. 其实是和食梦者（动画）可以作为互补的剧，都是讲漫画行业的，不过一个侧重于漫画家，一个侧重于编辑
        2. 剧情做的蛮不错的，挺轻松的
        3. 不过女主的设定有点浮夸，，有点那么一点点接受不能
    3. 死神真的越来越不能看了
    4. 这次的咒术回战怎么也开高达了啊。。
    5. 布莱泽继续开香槟了
        1. 经典的古老传说，佛像的设定，很昭和
        2. 不过这次整个剧情的推进很合情合理，相较于之前的文戏好了太多了
        3. 这次其实又是新的一位队员的个人回，其实挺不错的
4. 本周在情绪崩溃后，又和妹子去了水疗馆，感觉真的挺放松的
5. 本周的小猫状态恢复的蛮不错的，大胃王一个，出来放风（一直在隔离）第一件事就去狂旋原住民的饭
6. 本周继续背单词
7. 《唐史并不如烟》继续
8. 我资助的学生成功录取啦！

![狗子](https://github.com/Zheaoli/zheaoli.github.io/assets/7054676/33dd3165-9276-4b03-a041-ee9d8a6eaa1b)

![狗子](https://github.com/Zheaoli/zheaoli.github.io/assets/7054676/97559b8a-6d79-4733-9325-27c6d04aca3a)

![猫子](https://github.com/Zheaoli/zheaoli.github.io/assets/7054676/f51c0a55-7b88-403c-a22d-eb81b01009a1)

## 技术

1. 这周工作上好玩的事
    1. 这周出现了一个很奇怪的现象，我们托管在 AWS 上的 Redis 实例，Replica 实例突然出现了内存激增，但是 Primary 实例却没有问题。目前怀疑是和 Redis 7.0.7 的 Query Buffer 的缺陷有关，目前发现了一个疑似 Issue 但是不确定，[PR#11676](https://github.com/redis/redis/pull/11676)
2. 这周继续上周在内核上有一些好玩的尝试或者是坑吧
    1. 针对于 TCP CWND Reset/Restart 事件的 Patch 发了，参见 [[RFC PATCH] tcp event: add new tcp:tcp_cwnd_restart event](https://lore.kernel.org/linux-trace-kernel/20230806075216.13378-1-me@manjusaka.me/T/#u) 目前测试下来感觉还行
    2. 针对内核开发的一些调试需求，我自己重新在 PVE 上搭建了一个内核开发环境，调整了一部分编译参数。
    3. 这周和人讨论了一个很玄学的问题，在特定一个 case 中（多 socket CPU，跨 NUMA），子进程退出后，父进程依旧在 waitpid 处阻塞。很神奇的 bug，能否复现和具体的 CPU 的负载有关，感觉是 NUMA 下内核线程存在一个 race condition 了
3. 这周正式开始写 systemd CPU Burst 的支持了，emmmm，槽点也挺多的
    1. systemd 的基础设施和开发文档真的emmm，一言难尽。可以参考我提的 [issue](https://github.com/systemd/systemd/issues/created_by/Zheaoli)
    2. QEMU 真的是世界的救星.jpg
    3. systemd 部分的源码也是真的脏啊。。
4. 这周终于把 [Elixir-Bottlin](https://elixir.bootlin.com/linux/latest/source) 对 Linux 源码的索引做完了，跑了一周多。顺便把镜像公开了出来，这个工具真的是内核源码阅读神器。
5. 突然想起上周一个很有趣的事，我们有个容器里跑的 Puppeteer 的项目，headless 渲染，最近有了中文支持，但是一个问题就是字体支持很差。第一步毫无疑问的是安装字体（这里注意版权问题），然后第二步如果直接改 body.font-famaily 可能会有其余一些问题。所以我最后祭出了 Arch 上积累的一些美化经验，手撸了一部分 fonts.conf 解决问题。。什么叫跨学科交叉贡献啊（战术后仰
6. 继续看《计算机网络：自顶向下方法》
7. 这周在考虑要不要在 WASI 上开一个新坑，想测试一下自己封装一套 WASM web framework 的体验咋样（

差不多就这样把

## 总结

除了这周的一次情绪崩盘，最近又陷入了一种焦虑中。每天都感觉有新的东西要学，而我的时间又很有限，又总是学不完。而且在学习过程中一次又一次的见证自己的垃圾，菜鸡与无力。希望能尽快走出这种状态吧。。

不过从另外一个角度来说，有源源不断的可以学的东西，也是一件挺幸福的事？

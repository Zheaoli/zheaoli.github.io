# 2023 年第33周周报

状态开始恢复了一些

## 生活

1. 老规矩先汇报一下近况
    1. 这周状态还算 OK ，相对比较稳定了
    2. 接受了心理咨询师第二次咨询
        1. 这次咨询师的一个建议非常有趣，她认为我焦虑的源泉不是焦虑，而是我觉得我不应该焦虑而产生的焦虑。所以她建议我每天固定找一个时间去专门焦虑，将自己的压力释放出来
2. 妹子回家了，没妹子的一周，呜呜呜好不适应
3. 本周的小狗狗
    1. 拆了我一件衣服，一个包，一条耳机
    2. 和小狗玩游戏之前我们俩都会互相鞠躬（培养礼仪（
4. 本周的娱乐时间
    1. G2 这周石油杯打的什么鬼，太子在搞什么，空枪王子
    2. 看了蜘蛛侠纵横宇宙。“每个宇宙，格温和蜘蛛侠都没有好结果”，“你说得对格温，你不应该来找我”，呜呜呜
    3. 京吹新剧场版（
    4. 银护3，“他是我们中唯一一个不怪罪自己的人”
    5. 布莱泽，狂喜，狂喜啊兄弟们
        1. 整活有一手的
        2. 膜7是特摄显学
        3. 个人回我觉得设计很不错，刻画的很到位
        4. 机器意识的探讨其实是从昭和传承到现在的老题材了，不过这次整活出了新意
        5. 不说了兄弟们，香槟喝多了，先去吐一发
5. 本周社恐大突破，和 OpenDAL 全体，以及 @新一 面基
6. 这周家里新增一堆补剂（
7. 家里新入手 AppleTV 2022，不过到家一个小时候遥控器被狗啃了
8. 继续背单词
9. 本周就没咋看书了（骄傲脸

![狗子](https://github.com/Zheaoli/zheaoli.github.io/assets/7054676/d833cb3b-7bf7-4284-a221-b05cc9ef7706)

![惨遭毒口的遥控器](https://github.com/Zheaoli/zheaoli.github.io/assets/7054676/c6a0480b-223e-4df7-9c43-bbb945003bd5)

## 技术

1. 本周工作上好玩的事
    1. YAML 长了真的是一件痛苦的事，特别是你 Alertmanager 规则一多，在重构 alert 的时候，很容易漏掉报警。现在想想，除了定期重构外，好像也没啥其余的-办法
    2. 合理利用 Terraform tag ，会让在做成本归类的时候变得更为轻松
    3. ES 系列的查询真的恶心，官方的 SQL 支持也基本上不能用，嘛的一笔*（
2. 本周在家里的 Homelab 上踩了点坑，在功能里有一个 Traffic Rule 的功能，可以限制比如 VLAN 的对外访问速度之类的。如果开启后，整个公网吞吐暴跌（相当一部分走 CPU 处理了），极限在 1600Mbps 左右。麻了、
3. 本周在内核上的一些事情
    1. 去开始梳理下 TCP 这块一些状态，除了现在的一些重传，拥塞之类的状态，在 L3/L4 上应该还有不少有价值的事件可以暴露出来
    2. 这周在搞 QEMU 调试内核的一些东西
        1. Busybox 静态编译坑太多，可能最好的方式是开个容器固定一些依赖环境去编译
        2. 现在网上主流推荐的 Busybox + QEMU 调试方式，我觉得对于一些复杂场景来说还是简单了，可能还不如 Print 大法好（但是编译时间是个问题）
        3. 可能最好的办法是 libvirt 起一个 Ubuntu on QEMU，然后暴露端口供 GDB remote debug
4. 这周在搞 Torrent 协议的时候，去看了下一个衍生的协议 i2p protocol，感觉有点意思
5. 简单撸了一个 alertmanager 的验证器，可以验证 Fake Alert 的 route 路径
6. 开始在 ChatGPT 帮助下，基于 Vue + Tailwind CSS 将验证器前端化（XD
7. 这周推进了一下之前 CPU Burst 的 runc PR，容器社区也真是佛系（
8. 在邮件组里发现了来自字节跳动的一个 patch，试图通过 BPF 将内核的 OOM 驱逐行为可编程化。我觉得很有趣，参见 [[RFC PATCH 1/5] bpf: Introduce BPF_PROG_TYPE_OOM_POLICY](https://lore.kernel.org/lkml/20230727073632.44983-2-zhouchuyi@bytedance.com/)，并通过邮件和作者 follow up 了一下
9. 推荐一个视频 [SREcon23 Asia/Pacific - Real World Debugging with eBPF](https://www.youtube.com/watch?v=nggZEwGLC-Q&t=2767s&ab_channel=USENIX)
10. 这周继续去看下内核第三版

差不多就这样

## 总结

本周做的事好像也还是不能算很多，今年的 OKR 铁定废了，，真的是菜的一笔。。不过还是在挣扎下吧。。

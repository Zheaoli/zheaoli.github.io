# 2023 年47周周报

这两周北京的风真是喧嚣啊

## 生活

1. 这周的状态
    1. 闹肚子，持续的闹肚子
    2. 精神状态开始恢复了，不过好像该减肥了
2. 本周的小狗：
    1. 本周小狗去狗狗营地跑了一圈，开心的不行
    2. 这周做噩梦后居然会去按“小猫”“打架”，笑死
3. 本周的娱乐时间
    1. 本周 CSGO 实在打不动了，最近科技实在太多了
    2. 这周开始玩地平线5！发现看风景意外的好玩，不过始终不会完美转向呜呜呜
    3. 本周的布莱泽，开香槟！
        1. 新的悬念的引入，很不错。参谋长这个人物的塑造额外的好
        2. 这周出现了一次奥系传统，灵魂系传承
        3. 还是没有年番好啊，剧情稍微赶了点
        4. 但是今年真的非常尽力了！
    4. 本周的特搜组大吾，又崩了
        1. 剧情实在太拖沓了
        2. 监督的掌控和运镜都很有问题
    5. 本周的意外之喜是 Overtake 这部番，第九话直接麻了，这种挣扎的感觉，太奈克瑟斯了。准哥附体！
    6. 重开银之匙
4. 本周继续在背单词的路上奔波。不过说起来，我是不是可以写一些英文博客了、
5. 本周又是带着宠物去医院的一周
6. 继续看 596 秘史

![狗子](https://github.com/Zheaoli/zheaoli.github.io/assets/7054676/1584e624-9b92-4006-a155-42b16276c36f)

![狗子](https://github.com/Zheaoli/zheaoli.github.io/assets/7054676/f86b6758-6b5d-444c-b023-a194f48d6a3d)

## 技术

1. 这周继续在 runc 当清道夫
    1. [PR4120](https://github.com/opencontainers/runc/pull/4120)，重新处理完了 memory evnert 的测试，这次应该没啥问题了
    2. 在和社区的讨论 Usage 应该是基于 CGroup 的 Metric 计算还是需要把内核的内存使用计算进去
    3. 这周想了下 landlock 大体的实现思路，差不多下周能发一下让社区一起看一下
2. 这周在看 Go 内存池的东西，一个很有趣的资料 [How we Eliminated 99% of gVisor Networking Memory Allocations with Enhanced Buffer Pooling](https://gvisor.dev/blog/2022/10/24/buffer-pooling/)
    1. 这事的起因是和真人想把 TiDB 那边的统计相关的内存分配池化，预计能提升不少性能
    2. 这周先加了一个 benchmark，给后面的优化做准备
3. 这周开始正式把家里的 Homelab 搞个 K3S 了
    1. 三个节点分散的 master + etcd
    2. 额外有玩个虚拟机来做 agent
    3. 可以把 tailscale 融合进去，集群内外打通
4. 这周尝试给 OpenWRT 编译 6.6 的内核
    1. 一些驱动的 patch 要首先移植过去
    2. 内核 config 有不少调整
    3. 上游针对 6.1 的 patch 很难合并到 6.6.2 里面去
    4. 学习 quilt
    5. 当然最后编译失败了，消息了
5. 这周在看 iperf3 的代码，记录一些碎碎念、
    1. 整体实现的挺不错的，我觉得对网络感兴趣的可以去看看
    2. 默认 Windows 的性能因为是基于 Cygwin 做的，非常差，建议 WSL 跑
    3. 在思考怎么做一个原生的多平台的版本，一个阻碍是一些 TCP 原始信息的获取 cwnd 之类的，在Linux 比较好做。Windows 下得额外确认下 API
6. 准备下周 PyCon 的分享
7. 每天刷题继续，（忘了写题解（

差不多这样

## 总结

天寒地冻，肺炎盛行，大家注意身体，多多保重

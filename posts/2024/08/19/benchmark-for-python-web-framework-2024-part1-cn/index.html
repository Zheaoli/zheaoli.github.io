<!DOCTYPE html><html lang=en data-theme=auto><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><title>2024 年了，是 Gevent 还是选择 asyncio Part 1？ | Manjusaka</title><meta name=author content=Manjusaka><meta name=copyright content=Manjusaka><meta name=format-detection content="telephone=no"><meta name=theme-color content=ffffff><meta name=description content="Gevent 还是 asyncio 这一直是个经典的问题，在这里我们直接用数据来帮助大家做一下决策"><meta property=og:type content=article><meta property=og:title content="2024 年了，是 Gevent 还是选择 asyncio Part 1？"><meta property=og:url content=https://www.manjusaka.blog/posts/2024/08/19/benchmark-for-python-web-framework-2024-part1-cn/index.html><meta property=og:site_name content=Manjusaka><meta property=og:description content="Gevent 还是 asyncio 这一直是个经典的问题，在这里我们直接用数据来帮助大家做一下决策"><meta property=og:locale content=en_US><meta property=og:image content=https://cdn.pixabay.com/photo/2023/01/30/19/40/gulls-7756481_1280.jpg><meta property=article:published_time content=2024-08-19T17:00:00.000Z><meta property=article:modified_time content=2025-05-11T18:01:36.433Z><meta property=article:author content=Manjusaka><meta property=article:tag content=编程><meta property=article:tag content=笔记><meta property=article:tag content=水文><meta property=article:tag content=CPython><meta name=twitter:card content=summary><meta name=twitter:image content="https://avatars.githubusercontent.com/u/7054676?v=4"><meta name=twitter:creator content=@Manjusaka_Lee><meta name=twitter:site content=https://twitter.com/Manjusaka_Lee><script type=application/ld+json>{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "2024 年了，是 Gevent 还是选择 asyncio Part 1？",
  "url": "https://www.manjusaka.blog/posts/2024/08/19/benchmark-for-python-web-framework-2024-part1-cn/",
  "image": "https://cdn.pixabay.com/photo/2023/01/30/19/40/gulls-7756481_1280.jpg",
  "datePublished": "2024-08-19T17:00:00.000Z",
  "dateModified": "2025-05-11T18:01:36.433Z",
  "author": [
    {
      "@type": "Person",
      "name": "Manjusaka",
      "url": "https://github.com/Zheaoli"
    }
  ]
}</script><link rel="shortcut icon" href="https://avatars.githubusercontent.com/u/7054676?v=4"><link rel=canonical href=https://www.manjusaka.blog/posts/2024/08/19/benchmark-for-python-web-framework-2024-part1-cn/index.html><link rel=preconnect href=//cdn.jsdelivr.net><link rel=preconnect href=//www.google-analytics.com crossorigin=""><link rel=preconnect href=//busuanzi.ibruce.info><link rel=stylesheet href=/css/index.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css media=print onload='this.media="all"'><script>(()=>{let t={set:(e,t,a)=>{a&&(a=Date.now()+864e5*a,localStorage.setItem(e,JSON.stringify({value:t,expiry:a})))},get:e=>{var t=localStorage.getItem(e);if(t){var{value:t,expiry:a}=JSON.parse(t);if(!(Date.now()>a))return t;localStorage.removeItem(e)}}},a=(window.btf={saveToLocal:t,getScript:(o,r={})=>new Promise((e,t)=>{let a=document.createElement("script");a.src=o,a.async=!0,Object.entries(r).forEach(([e,t])=>a.setAttribute(e,t)),a.onload=a.onreadystatechange=()=>{a.readyState&&!/loaded|complete/.test(a.readyState)||e()},a.onerror=t,document.head.appendChild(a)}),getCSS:(o,r)=>new Promise((e,t)=>{let a=document.createElement("link");a.rel="stylesheet",a.href=o,r&&(a.id=r),a.onload=a.onreadystatechange=()=>{a.readyState&&!/loaded|complete/.test(a.readyState)||e()},a.onerror=t,document.head.appendChild(a)}),addGlobalFn:(e,t,a=!1,o=window)=>{var r;e.startsWith("pjax")||((r=o.globalFn||{})[e]=r[e]||{},r[e][a||Object.keys(r[e]).length]=t,o.globalFn=r)}},()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")}),o=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","ffffff")};btf.activateDarkMode=a,btf.activateLightMode=o;var r=t.get("theme"),n=window.matchMedia("(prefers-color-scheme: dark)"),d=window.matchMedia("(prefers-color-scheme: light)"),d=(void 0===r?((!d.matches&&(n.matches||(d=(new Date).getHours())<=6||18<=d)?a:o)(),n.addEventListener("change",()=>{void 0===t.get("theme")&&(e.matches?a:o)()})):("light"===r?o:a)(),t.get("aside-status"));void 0!==d&&document.documentElement.classList.toggle("hide-aside","hide"===d);/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})()</script><script async=async src="https://www.googletagmanager.com/gtag/js?id=UA-154407994-1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-154407994-1"),btf.addGlobalFn("pjaxComplete",()=>{gtag("config","UA-154407994-1",{page_path:window.location.pathname})},"google_analytics")</script><script>let GLOBAL_CONFIG={root:"/",algolia:{appId:"DL1RURGHTB",indexName:"manjusaka.blog",hitsPerPage:6,languages:{input_placeholder:"Search",hits_empty:"No results found for: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localSearch:void 0,translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"簡"},highlight:{plugin:"highlight.js",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1,highlightFullpage:!1,highlightMacStyle:!1},copy:{success:"Copy Successful",error:"Copy Failed",noSupport:"Browser Not Supported"},relativeDate:{homepage:!0,post:!0},runtime:"",dateSuffix:{just:"Just now",min:"minutes ago",hour:"hours ago",day:"days ago",month:"months ago"},copyright:{limitCount:100,languages:{author:"Author: Manjusaka",link:"Link: ",source:"Source: Manjusaka",info:"Copyright belongs to the author. For commercial use, please contact the author for authorization. For non-commercial use, please indicate the source."}},lightbox:"null",Snackbar:{chs_to_cht:"You have switched to Traditional Chinese",cht_to_chs:"You have switched to Simplified Chinese",day_to_night:"You have switched to Dark Mode",night_to_day:"You have switched to Light Mode",bgLight:"#59C173",bgDark:"#1f1f1f",position:"bottom-left"},infinitegrid:{js:"https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js",buttonText:"Load More"},isPhotoFigcaption:!0,islazyloadPlugin:!0,isAnchor:!0,percent:{toc:!0,rightside:!0},autoDarkmode:!0}</script><script id=config-diff>var GLOBAL_CONFIG_SITE={title:"2024 年了，是 Gevent 还是选择 asyncio Part 1？",isHighlightShrink:!1,isToc:!0,pageType:"post"}</script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/hexo-butterfly-swiper@1.0.12/lib/swiper.min.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/hexo-butterfly-swiper@1.0.12/lib/swiperstyle.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/hexo-butterfly-tag-plugins-plus@1.0.18/lib/assets/font-awesome-animation.min.css media=defer onload='this.media="all"'><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/hexo-butterfly-tag-plugins-plus@1.0.18/lib/tag_plugins.css media=defer onload='this.media="all"'><script src=https://cdn.jsdelivr.net/npm/hexo-butterfly-tag-plugins-plus@1.0.18/lib/assets/carousel-touch.js></script><meta name=generator content="Hexo 7.3.0"><link rel=alternate href=/atom.xml title=Manjusaka type=application/atom+xml></head><body><div id=loading-box><div class=loading-left-bg></div><div class=loading-right-bg></div><div class=spinner-box><div class=configure-border-1><div class=configure-core></div></div><div class=configure-border-2><div class=configure-core></div></div><div class=loading-word>Loading...</div></div></div><script>(()=>{let e=document.getElementById("loading-box"),d=document.body;const o=()=>{d.style.overflow="",e.classList.add("loaded")},l=()=>{d.style.overflow="hidden",e.classList.remove("loaded")};l(),window.addEventListener("load",o)})()</script><div id=web_bg style="background-image:url('url(https://cdn.jsdelivr.net/gh/youngjuning/images@main/1680450445599.png)')"></div><div id=sidebar><div id=menu-mask></div><div id=sidebar-menus><div class="avatar-img text-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://avatars.githubusercontent.com/u/7054676?v=4" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt=avatar></div><div class="site-data text-center"><a href=/archives/ ><div class=headline>Articles</div><div class=length-num>102</div></a><a href=/tags/ ><div class=headline>Tags</div><div class=length-num>58</div></a><a href=/categories/ ><div class=headline>Categories</div><div class=length-num>39</div></a></div><div class=menus_items><div class=menus_item><a class=site-page href=/ ><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class=menus_item><span class="site-page group"><i class="fa-fw fa-fw fas fa-lines-leaning"></i><span> 文章</span><i class="fas fa-chevron-down"></i></span><ul class=menus_item_child><li><a class="site-page child" href=/categories/ ><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href=/tags/ ><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href=/archives/ ><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href=/random/ ><i class="fa-fw fas fa-random"></i><span> 随便逛逛</span></a></li></ul></div><div class=menus_item><a class=site-page href=/weekly/ ><i class="fa-fw fas fa-newspaper"></i><span> 周报</span></a></div><div class=menus_item><a class=site-page href=/leetcode/ ><i class="fa-fw fas fa-newspaper"></i><span> 刷题</span></a></div><div class=menus_item><span class="site-page group"><i class="fa-fw fas fa-heart"></i><span> 我的</span><i class="fas fa-chevron-down"></i></span><ul class=menus_item_child><li><a class="site-page child" href=/about/ ><i class="fa-fw fas fa-spa"></i><span> 关于</span></a></li><li><a class="site-page child" href=/weekly/ ><i class="fa-fw fas fa-newspaper"></i><span> 周报</span></a></li></ul></div></div></div></div><div class="post type-tags" id=body-wrap><header class=post-bg id=page-header style=background-image:url(https://cdn.pixabay.com/photo/2023/01/30/19/40/gulls-7756481_1280.jpg)><nav id=nav><span id=blog-info><a class=nav-site-title href=/ ><img class=site-icon src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://avatars.githubusercontent.com/u/7054676?v=4# image" alt=Logo><span class=site-name>Manjusaka</span></a><a class=nav-page-title href=/ ><span class=site-name>2024 年了，是 Gevent 还是选择 asyncio Part 1？</span></a></span><div id=menus><div id=search-button><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></span></div><div class=menus_items><div class=menus_item><a class=site-page href=/ ><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class=menus_item><span class="site-page group"><i class="fa-fw fa-fw fas fa-lines-leaning"></i><span> 文章</span><i class="fas fa-chevron-down"></i></span><ul class=menus_item_child><li><a class="site-page child" href=/categories/ ><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href=/tags/ ><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href=/archives/ ><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href=/random/ ><i class="fa-fw fas fa-random"></i><span> 随便逛逛</span></a></li></ul></div><div class=menus_item><a class=site-page href=/weekly/ ><i class="fa-fw fas fa-newspaper"></i><span> 周报</span></a></div><div class=menus_item><a class=site-page href=/leetcode/ ><i class="fa-fw fas fa-newspaper"></i><span> 刷题</span></a></div><div class=menus_item><span class="site-page group"><i class="fa-fw fas fa-heart"></i><span> 我的</span><i class="fas fa-chevron-down"></i></span><ul class=menus_item_child><li><a class="site-page child" href=/about/ ><i class="fa-fw fas fa-spa"></i><span> 关于</span></a></li><li><a class="site-page child" href=/weekly/ ><i class="fa-fw fas fa-newspaper"></i><span> 周报</span></a></li></ul></div></div><div id=toggle-menu><span class=site-page><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id=post-info><h1 class=post-title>2024 年了，是 Gevent 还是选择 asyncio Part 1？<a class=post-edit-link href=https://github.com/Zheaoli/Zheaoli.github.io/edit/main/source/_posts/benchmark-for-python-web-framework-2024-part1-cn.md rel="external nofollow noreferrer" title=Edit target=_blank><i class="fas fa-pencil-alt"></i></a></h1><div id=post-meta><div class=meta-firstline><span class=post-meta-date><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class=post-meta-label>Created</span><time datetime=2024-08-19T17:00:00.000Z title="Created 2024-08-20 01:00:00">2024-08-20</time></span><span class=post-meta-categories><span class=post-meta-separator>|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class=post-meta-categories href=/categories/%E7%BC%96%E7%A8%8B/ >编程</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class=post-meta-categories href=/categories/%E7%BC%96%E7%A8%8B/CPython/ >CPython</a></span></div><div class=meta-secondline><span class=post-meta-separator>|</span><span class=post-meta-wordcount><i class="far fa-file-word fa-fw post-meta-icon"></i><span class=post-meta-label>Word Count:</span><span class=word-count>1.3k</span><span class=post-meta-separator>|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class=post-meta-label>Reading Time:</span><span>6mins</span></span><span class=post-meta-separator>|</span><span class=post-meta-pv-cv id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class=post-meta-label>Post Views:</span><span id=busuanzi_value_page_pv><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class=layout id=content-inner><div id=post><article class="container post-content" id=article-container><div id=post-outdate-notice data="{&quot;limitDay&quot;:365,&quot;messagePrev&quot;:&quot;It has been&quot;,&quot;messageNext&quot;:&quot;days since the last update, the content of the article may be outdated.&quot;,&quot;postUpdate&quot;:&quot;2025-05-12 02:01:36&quot;}" hidden></div><p>Gevent 还是 asyncio 这一直是个经典的问题，在这里我们直接用数据来帮助大家做一下决策</p><span id=more></span><h2 id=开篇><a href=#开篇 class=headerlink title=开篇></a>开篇</h2><p>Lin Wei 老师珠玉在前</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=https://i.imgur.com/Jk2ubDY.png alt=HiRedis></p><p>给出了 asyncio 和 Gevnet 的极限性能。 在这里我们看到了 asyncio 配合 uvloop 基本上是 Gevent 的 double 了</p><p>那么在在 Web 框架下是否如此呢？</p><p>我们来做一下实验吧</p><p>首先说一下负载机器的配置，这里我选用了 Azure 上 D8as_v5 的机器，该机器配置如下：</p><ol><li>8Core32G 的配置</li><li>底座硬件基于 EPYC 7763 系列处理器</li><li>共计4个节点，分配给 Django/Flast/FastAPI/Starlette 四个不同的框架</li></ol><p>我们压测框架选择 locust，同样基于 Kuberntes 集群，因为我账户的 D8as_v5 机器的 Quota 不太够，所以压测框架我们选了不同机器的混合部署</p><ol><li>4个 D8as_v5，共计 32 Core 算力</li><li>4个 D8as_v3，共计 32 Core 算力</li><li>4个 D4as_v2，共计 16 Core 算力</li></ol><p>我们测试的主要目的是模拟在生产环境下的吞吐，所以我选择的测试方式如下</p><ol><li>准备一台 16Core 64G 的 MySQL 实例，用于存储数据</li><li>创建一张表，随机写入100万数据</li><li>在框架代码中进行 SQL 查询，返回查询结果</li></ol><p>MySQL 表结构如下</p><figure class="highlight sql"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br></pre></td><td class=code><pre><span class=line><span class=keyword>create</span> <span class=keyword>table</span>  if <span class=keyword>not</span> <span class=keyword>exists</span>  `demo_data`</span><br><span class=line>(</span><br><span class=line>    `id`          <span class=type>bigint</span>(<span class=number>20</span>)   <span class=keyword>not</span> <span class=keyword>null</span> auto_increment,</span><br><span class=line>    `name`        <span class=type>varchar</span>(<span class=number>255</span>) <span class=keyword>not</span> <span class=keyword>null</span>,</span><br><span class=line>    `create_time` <span class=type>timestamp</span> <span class=keyword>default</span> <span class=built_in>CURRENT_TIMESTAMP</span>,</span><br><span class=line>    `update_time` <span class=type>timestamp</span> <span class=keyword>default</span> <span class=built_in>CURRENT_TIMESTAMP</span>,</span><br><span class=line>    <span class=keyword>primary</span> key (`id`),</span><br><span class=line>    index (`name`)</span><br><span class=line>) charset <span class=operator>=</span> utf8mb4</span><br><span class=line>  engine <span class=operator>=</span> innodb;</span><br></pre></td></tr></table></figure><p>Django 代码如下</p><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br></pre></td><td class=code><pre><span class=line><span class=keyword>import</span> random</span><br><span class=line></span><br><span class=line><span class=keyword>from</span> django.core <span class=keyword>import</span> serializers</span><br><span class=line><span class=keyword>from</span> django.shortcuts <span class=keyword>import</span> HttpResponse</span><br><span class=line></span><br><span class=line><span class=keyword>from</span> .models <span class=keyword>import</span> DemoData</span><br><span class=line></span><br><span class=line>TEMP = <span class=string>&quot;1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!@#$%^&amp;*()_+=-&quot;</span></span><br><span class=line></span><br><span class=line></span><br><span class=line><span class=comment># Create your views here.</span></span><br><span class=line><span class=keyword>def</span> <span class="title function_">demo_views</span>(<span class=params>request</span>):</span><br><span class=line>    result = DemoData.objects.<span class=built_in>filter</span>(</span><br><span class=line>        name=<span class=string>&quot;&quot;</span>.join(random.choices(TEMP, k=random.randrange(<span class=number>1</span>, <span class=number>254</span>)))</span><br><span class=line>    )</span><br><span class=line>    <span class=comment># x = json.dumps(request.body)</span></span><br><span class=line>    <span class=keyword>return</span> HttpResponse(</span><br><span class=line>        serializers.serialize(<span class=string>&quot;json&quot;</span>, result <span class=keyword>if</span> result <span class=keyword>else</span> []),</span><br><span class=line>        content_type=<span class=string>&quot;application/json&quot;</span>,</span><br><span class=line>    )</span><br></pre></td></tr></table></figure><p>Flask 代码如下</p><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br></pre></td><td class=code><pre><span class=line><span class=keyword>import</span> json</span><br><span class=line><span class=keyword>import</span> random</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> os</span><br><span class=line><span class=keyword>import</span> dataset</span><br><span class=line><span class=keyword>from</span> flask <span class=keyword>import</span> Flask, Response</span><br><span class=line></span><br><span class=line>app = Flask(__name__)</span><br><span class=line></span><br><span class=line>DATABASE_URL = <span class=string>f&quot;mysql://<span class=subst>&#123;os.getenv(<span class=string>&#x27;DATABASE_USER&#x27;</span>)&#125;</span>:<span class=subst>&#123;os.getenv(<span class=string>&#x27;DATABASE_PASSWORD&#x27;</span>)&#125;</span>@<span class=subst>&#123;os.getenv(<span class=string>&#x27;DATABASE_HOST&#x27;</span>)&#125;</span>:3306/demo&quot;</span></span><br><span class=line>db = dataset.connect(DATABASE_URL, engine_kwargs=&#123;<span class=string>&quot;pool_size&quot;</span>: <span class=number>10000</span>&#125;)</span><br><span class=line></span><br><span class=line>TEMP = <span class=string>&quot;1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!@#$%^&amp;*()_+=-&quot;</span></span><br><span class=line></span><br><span class=line></span><br><span class=line><span class=meta>@app.route(<span class=params><span class=string>&quot;/demo&quot;</span>, methods=[<span class=string>&quot;GET&quot;</span>]</span>)</span></span><br><span class=line><span class=keyword>def</span> <span class="title function_">demo_code</span>():</span><br><span class=line>    <span class=keyword>return</span> Response(</span><br><span class=line>        response=json.dumps(</span><br><span class=line>            <span class=built_in>list</span>(</span><br><span class=line>                db.query(</span><br><span class=line>                    <span class=string>f&quot;select * from demo_data where name=&#x27;<span class=subst>&#123;<span class=string>&#x27;&#x27;</span>.join(random.choices(TEMP, k=random.randrange(<span class=number>1</span>, <span class=number>254</span>)))&#125;</span>&#x27;&quot;</span></span><br><span class=line>                )</span><br><span class=line>            ),</span><br><span class=line>            default=<span class=built_in>str</span></span><br><span class=line>        ),</span><br><span class=line>        status=<span class=number>200</span>,</span><br><span class=line>        content_type=<span class=string>&quot;application/json&quot;</span>,</span><br><span class=line>    )</span><br><span class=line></span><br><span class=line></span><br><span class=line><span class=keyword>if</span> __name__ == <span class=string>&quot;__main__&quot;</span>:</span><br><span class=line>    app.run(debug=<span class=literal>True</span>)</span><br></pre></td></tr></table></figure><p>FastAPI 代码如下</p><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br></pre></td><td class=code><pre><span class=line><span class=keyword>import</span> random</span><br><span class=line><span class=keyword>import</span> os</span><br><span class=line><span class=keyword>from</span> typing <span class=keyword>import</span> <span class=type>List</span></span><br><span class=line></span><br><span class=line><span class=keyword>import</span> databases</span><br><span class=line><span class=keyword>import</span> pymysql</span><br><span class=line><span class=keyword>import</span> sqlalchemy</span><br><span class=line><span class=keyword>import</span> json</span><br><span class=line><span class=keyword>from</span> fastapi <span class=keyword>import</span> FastAPI</span><br><span class=line><span class=keyword>from</span> fastapi.responses <span class=keyword>import</span> Response</span><br><span class=line><span class=keyword>from</span> pydantic <span class=keyword>import</span> BaseModel</span><br><span class=line></span><br><span class=line>pymysql.install_as_MySQLdb()</span><br><span class=line></span><br><span class=line>AYSNC_DATABASE_URL = <span class=string>f&quot;mysql+aiomysql://<span class=subst>&#123;os.getenv(<span class=string>&#x27;DATABASE_USER&#x27;</span>)&#125;</span>:<span class=subst>&#123;os.getenv(<span class=string>&#x27;DATABASE_PASSWORD&#x27;</span>)&#125;</span>@<span class=subst>&#123;os.getenv(<span class=string>&#x27;DATABASE_HOST&#x27;</span>)&#125;</span>:3306/demo&quot;</span></span><br><span class=line>SYNC_DATABASE_URL = <span class=string>f&quot;mysql+mysqldb://<span class=subst>&#123;os.getenv(<span class=string>&#x27;DATABASE_USER&#x27;</span>)&#125;</span>:<span class=subst>&#123;os.getenv(<span class=string>&#x27;DATABASE_PASSWORD&#x27;</span>)&#125;</span>@<span class=subst>&#123;os.getenv(<span class=string>&#x27;DATABASE_HOST&#x27;</span>)&#125;</span>:3306/demo&quot;</span></span><br><span class=line></span><br><span class=line>database = databases.Database(AYSNC_DATABASE_URL, max_size=<span class=number>10000</span>)</span><br><span class=line></span><br><span class=line>metadata = sqlalchemy.MetaData()</span><br><span class=line></span><br><span class=line>demo_data = sqlalchemy.Table(</span><br><span class=line>    <span class=string>&quot;demo_data&quot;</span>,</span><br><span class=line>    metadata,</span><br><span class=line>    sqlalchemy.Column(<span class=string>&quot;id&quot;</span>, sqlalchemy.Integer, primary_key=<span class=literal>True</span>),</span><br><span class=line>    sqlalchemy.Column(<span class=string>&quot;name&quot;</span>, sqlalchemy.String),</span><br><span class=line>    sqlalchemy.Column(<span class=string>&quot;create_time&quot;</span>, sqlalchemy.DATETIME),</span><br><span class=line>    sqlalchemy.Column(<span class=string>&quot;update_time&quot;</span>, sqlalchemy.DATETIME),</span><br><span class=line>)</span><br><span class=line>engine = sqlalchemy.create_engine(SYNC_DATABASE_URL)</span><br><span class=line>metadata.create_all(engine)</span><br><span class=line>TEMP = <span class=string>&quot;1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!@#$%^&amp;*()_+=-&quot;</span></span><br><span class=line></span><br><span class=line></span><br><span class=line><span class=keyword>class</span> <span class="title class_">DemoData</span>(<span class="title class_ inherited__">BaseModel</span>):</span><br><span class=line>    <span class=built_in>id</span>: <span class=built_in>int</span></span><br><span class=line>    name: <span class=built_in>str</span></span><br><span class=line></span><br><span class=line></span><br><span class=line>app = FastAPI()</span><br><span class=line></span><br><span class=line>init = <span class=literal>False</span></span><br><span class=line></span><br><span class=line></span><br><span class=line><span class=meta>@app.get(<span class=params><span class=string>&quot;/demo&quot;</span>, response_model=<span class=type>List</span>[DemoData]</span>)</span></span><br><span class=line><span class=keyword>async</span> <span class=keyword>def</span> <span class="title function_">demo_code</span>():</span><br><span class=line>    <span class=keyword>global</span> init</span><br><span class=line>    <span class=keyword>if</span> <span class=keyword>not</span> init:</span><br><span class=line>        <span class=keyword>await</span> database.connect()</span><br><span class=line>        init = <span class=literal>True</span></span><br><span class=line></span><br><span class=line>    query = demo_data.select().where(</span><br><span class=line>        demo_data.c.name == <span class=string>&quot;&quot;</span>.join(random.choices(TEMP, k=random.randrange(<span class=number>1</span>, <span class=number>254</span>)))</span><br><span class=line>    )</span><br><span class=line>    data = <span class=keyword>await</span> database.fetch_all(query)</span><br><span class=line>    response = json.dumps(data, default=<span class=built_in>str</span>)</span><br><span class=line>    <span class=keyword>return</span> Response(content=response, status_code=<span class=number>200</span>, media_type=<span class=string>&quot;application/json&quot;</span>)</span><br></pre></td></tr></table></figure><p>Starlette 代码如下</p><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br></pre></td><td class=code><pre><span class=line><span class=keyword>import</span> random</span><br><span class=line><span class=keyword>import</span> os</span><br><span class=line><span class=keyword>from</span> typing <span class=keyword>import</span> <span class=type>List</span></span><br><span class=line></span><br><span class=line><span class=keyword>import</span> databases</span><br><span class=line><span class=keyword>import</span> pymysql</span><br><span class=line><span class=keyword>import</span> json</span><br><span class=line><span class=keyword>import</span> sqlalchemy</span><br><span class=line><span class=keyword>from</span> starlette.applications <span class=keyword>import</span> Starlette</span><br><span class=line><span class=keyword>from</span> starlette.responses <span class=keyword>import</span> Response</span><br><span class=line><span class=keyword>from</span> starlette.routing <span class=keyword>import</span> Route</span><br><span class=line><span class=keyword>from</span> pydantic <span class=keyword>import</span> BaseModel</span><br><span class=line></span><br><span class=line>pymysql.install_as_MySQLdb()</span><br><span class=line></span><br><span class=line>AYSNC_DATABASE_URL = <span class=string>f&quot;mysql+aiomysql://<span class=subst>&#123;os.getenv(<span class=string>&#x27;DATABASE_USER&#x27;</span>)&#125;</span>:<span class=subst>&#123;os.getenv(<span class=string>&#x27;DATABASE_PASSWORD&#x27;</span>)&#125;</span>@<span class=subst>&#123;os.getenv(<span class=string>&#x27;DATABASE_HOST&#x27;</span>)&#125;</span>:3306/demo&quot;</span></span><br><span class=line>SYNC_DATABASE_URL = <span class=string>f&quot;mysql+mysqldb://<span class=subst>&#123;os.getenv(<span class=string>&#x27;DATABASE_USER&#x27;</span>)&#125;</span>:<span class=subst>&#123;os.getenv(<span class=string>&#x27;DATABASE_PASSWORD&#x27;</span>)&#125;</span>@<span class=subst>&#123;os.getenv(<span class=string>&#x27;DATABASE_HOST&#x27;</span>)&#125;</span>:3306/demo&quot;</span></span><br><span class=line></span><br><span class=line>database = databases.Database(AYSNC_DATABASE_URL, max_size=<span class=number>10000</span>)</span><br><span class=line></span><br><span class=line>metadata = sqlalchemy.MetaData()</span><br><span class=line></span><br><span class=line>demo_data = sqlalchemy.Table(</span><br><span class=line>    <span class=string>&quot;demo_data&quot;</span>,</span><br><span class=line>    metadata,</span><br><span class=line>    sqlalchemy.Column(<span class=string>&quot;id&quot;</span>, sqlalchemy.Integer, primary_key=<span class=literal>True</span>),</span><br><span class=line>    sqlalchemy.Column(<span class=string>&quot;name&quot;</span>, sqlalchemy.String),</span><br><span class=line>    sqlalchemy.Column(<span class=string>&quot;create_time&quot;</span>, sqlalchemy.DATETIME),</span><br><span class=line>    sqlalchemy.Column(<span class=string>&quot;update_time&quot;</span>, sqlalchemy.DATETIME),</span><br><span class=line>)</span><br><span class=line>engine = sqlalchemy.create_engine(SYNC_DATABASE_URL)</span><br><span class=line>metadata.create_all(engine)</span><br><span class=line>TEMP = <span class=string>&quot;1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!@#$%^&amp;*()_+=-&quot;</span></span><br><span class=line></span><br><span class=line></span><br><span class=line><span class=keyword>class</span> <span class="title class_">DemoData</span>(<span class="title class_ inherited__">BaseModel</span>):</span><br><span class=line>    <span class=built_in>id</span>: <span class=built_in>int</span></span><br><span class=line>    name: <span class=built_in>str</span></span><br><span class=line></span><br><span class=line></span><br><span class=line>init = <span class=literal>False</span></span><br><span class=line></span><br><span class=line></span><br><span class=line><span class=keyword>async</span> <span class=keyword>def</span> <span class="title function_">demo_code</span>(<span class=params>request</span>):</span><br><span class=line>    <span class=keyword>global</span> init</span><br><span class=line>    <span class=keyword>if</span> <span class=keyword>not</span> init:</span><br><span class=line>        <span class=keyword>await</span> database.connect()</span><br><span class=line>        init = <span class=literal>True</span></span><br><span class=line></span><br><span class=line>    query = demo_data.select().where(</span><br><span class=line>        demo_data.c.name == <span class=string>&quot;&quot;</span>.join(random.choices(TEMP, k=random.randrange(<span class=number>1</span>, <span class=number>254</span>)))</span><br><span class=line>    )</span><br><span class=line>    data = <span class=keyword>await</span> database.fetch_all(query)</span><br><span class=line>    <span class=keyword>return</span> Response(content=json.dumps(data, default=<span class=built_in>str</span>), status_code=<span class=number>200</span>, media_type=<span class=string>&quot;application/json&quot;</span>)</span><br><span class=line></span><br><span class=line>routes = [</span><br><span class=line>    Route(<span class=string>&quot;/demo&quot;</span>, demo_code, methods=[<span class=string>&quot;GET&quot;</span>]),</span><br><span class=line>]</span><br><span class=line></span><br><span class=line>app = Starlette(debug=<span class=literal>False</span>, routes=routes)</span><br></pre></td></tr></table></figure><p>然后部署方式如下</p><ol><li>各服务都部署在 K8S 上，POD 类型为 Guaranteed</li><li>所有镜像都基于 3.12 构建</li><li>服务限制 6Core 的 CPU</li><li>Django 和 Flask 基于 Gevent + Gunicorn 进行部署，利用 Greenify 对二进制进行 Patch</li><li>FastAPI 和 Starlette 基于 uvicorn 进行部署，使用 uvloop 作为 event loop</li></ol><p>OK， 我们现在来公布测试结果</p><h2 id=标准操作下的测试结果><a href=#标准操作下的测试结果 class=headerlink title=标准操作下的测试结果></a>标准操作下的测试结果</h2><p>Django:</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=https://i.imgur.com/28P4bcT.png alt=django></p><p>FastAPI</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=https://i.imgur.com/T1xiYZe.png alt=FastAPI></p><p>Flask</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=https://i.imgur.com/mUkzLNf.png alt=Flask></p><p>Starlette</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=https://i.imgur.com/8Fu8vST.png alt=Starlette></p><p>Django 毫无疑问的最后，其余三者的性能是 Flask + Gevent &gt; Starlette &gt; FastAPI，后三个框架 CPU 占用率均 &gt; 90%</p><h2 id=空转测试><a href=#空转测试 class=headerlink title=空转测试></a>空转测试</h2><p>为了保险起见，我们将后续三个框架进行空转测试</p><p>Flask</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=https://i.imgur.com/9DjHr00.png alt=Flask></p><p>FastAPI</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=https://i.imgur.com/4hq7gqo.png alt=FastAPI></p><p>Starlette</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=https://i.imgur.com/Pugbi7M.png alt=Starlette></p><p>Starlette &gt; FastAPI &gt; Flask + Gevent</p><h2 id=总结><a href=#总结 class=headerlink title=总结></a>总结</h2><p>目前来看，整体结论是这样</p><ol><li>在空转情况下，asyncio 的性能要搞出 Gevent 不少，加上框架因素后，也有百分之10-20% 的提升</li><li>在 ORM + MySQL Driver 的情况下，Gevent 的生态要好于 asyncio 的生态</li></ol><p>如果换成 ORM + PGSQL 的生态结论会不会更好一些呢？有点期待下一轮测试的结果</p></article><div class=post-copyright><div class=post-copyright__author><span class=post-copyright-meta><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class=post-copyright-info><a href=https://github.com/Zheaoli rel="external nofollow noreferrer">Manjusaka</a></span></div><div class=post-copyright__type><span class=post-copyright-meta><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class=post-copyright-info><a href=https://www.manjusaka.blog/posts/2024/08/19/benchmark-for-python-web-framework-2024-part1-cn/ >https://www.manjusaka.blog/posts/2024/08/19/benchmark-for-python-web-framework-2024-part1-cn/</a></span></div><div class=post-copyright__notice><span class=post-copyright-meta><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class=post-copyright-info>All articles on this blog are licensed under <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ rel="external nofollow noreferrer">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class=tag_share><div class=post-meta__tag-list><a class=post-meta__tags href=/tags/%E7%BC%96%E7%A8%8B/ >编程</a><a class=post-meta__tags href=/tags/%E7%AC%94%E8%AE%B0/ >笔记</a><a class=post-meta__tags href=/tags/%E6%B0%B4%E6%96%87/ >水文</a><a class=post-meta__tags href=/tags/CPython/ >CPython</a></div><div class=post-share><div class=social-share data-image=https://cdn.pixabay.com/photo/2023/01/30/19/40/gulls-7756481_1280.jpg data-sites=facebook,twitter,wechat,weibo,qq></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css media=print onload='this.media="all"'><script src=https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js defer=defer></script></div></div><div class=ads-wrap><ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-7962287588031867 data-ad-slot=2542544532></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><nav class=pagination-post id=pagination><a class=pagination-related href=/posts/2024/07/16/a-live-debug-gh121528/ title="Debug 日志：CPython GH-121528"><img class=cover src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=https://cdn.pixabay.com/photo/2023/02/06/16/46/sea-7772372_1280.jpg onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class=info><div class=info-1><div class=info-item-1>Previous</div><div class=info-item-2>Debug 日志：CPython GH-121528</div></div><div class=info-2><div class=info-item-1>Debug 日志系列第二篇，CPython 的 GH-121528，也是很有趣的调试和讨论过程，写出来希望帮助大家 太长不看的版：Python 3.13 Beta 版本中，因为 PEP 683 的实现+周边的改动，导致低版本下编译的一些扩展无法在 Python 3.13 中运行 开篇7月9日的时候，PyO3 社区提出了一个 Bug , 编号为 GH-1215281。这个 Bug 可以做这样的表示 假设我们有一个 C 扩展文件 12345678910111213141516171819202122232425262728#include &lt;Python.h&gt;static PyObject *foo_bar(PyObject *self, PyObject *args)&#123;	Py_INCREF(PyExc_TypeError);	PyErr_SetString(PyExc_TypeError, &quot;foo&quot;);	return NULL;&#125;static PyMethodDef foomethods[] =...</div></div></div></a><a class=pagination-related href=/posts/2024/08/19/benchmark-for-python-web-framework-2024-part1-en/ title="In 2024, Gevent or asyncio? Part 1"><img class=cover src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=https://cdn.pixabay.com/photo/2023/02/04/07/50/flower-7766608_1280.jpg onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="info text-right"><div class=info-1><div class=info-item-1>Next</div><div class=info-item-2>In 2024, Gevent or asyncio? Part 1</div></div><div class=info-2><div class=info-item-1>The choice between Gevent and asyncio has always been a classic question. Here, we’ll use data to help you make a decision. IntroductionProfessor Lin Wei has set a high standard: This graph shows the extreme performance of asyncio and Gevent. We can see that asyncio with uvloop is basically double the performance of Gevent. But is this the case under web frameworks? Let’s conduct an experiment. First, let’s talk about the configuration of the load machine. I chose a D8as_v5 machine on...</div></div></div></a></nav><div class=relatedPosts><div class=headline><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class=relatedPosts-list><a class=pagination-related href=/posts/2024/06/19/a-live-debug-gh120437/ title="Debug 日志：CPython GH-120437"><img class=cover src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=https://cdn.pixabay.com/photo/2023/02/06/01/14/superb-fairywren-7770904_1280.jpg alt=cover><div class="info text-center"><div class=info-1><div class=info-item-1><i class="far fa-calendar-alt fa-fw"></i> 2024-06-20</div><div class=info-item-2>Debug 日志：CPython GH-120437</div></div><div class=info-2><div class=info-item-1>和 SRE 日志 系列一样，Debug 日志用来复盘我一些可以公开的调试经历，希望能帮助到大家。 这篇是 Python 3.13 Beta 下 JIT/Tier 2 优化器的一个 Bug ，前后历时五天，最终修改点很小，非常有趣 开篇13号的时候，用户反馈了一个 Bug，编号 GH1204371 ，具体的行为是这样 Python 3.13 引入了实验性的 JIT 优化器，具体的细节可以参考我之前的文章 简单聊聊 Python 3.13 的 JIT 方案2，用户可以在构建的时候选择性的开启 ./configure —enable-experimental-jit —with-pydebug &amp;&amp; make -j 用户在开启 JIT 的情况下，发现了一个非常奇怪的问题，执行 ./python -m ensurepip 会抛出异常 1subprocess.CalledProcessError: Command &#x27;[&#x27;/home/jglass/Documents/cpython/python&#x27;, &#x27;-W&#x27;,...</div></div></div></a><a class=pagination-related href=/posts/2024/07/16/a-live-debug-gh121528/ title="Debug 日志：CPython GH-121528"><img class=cover src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=https://cdn.pixabay.com/photo/2023/02/06/16/46/sea-7772372_1280.jpg alt=cover><div class="info text-center"><div class=info-1><div class=info-item-1><i class="far fa-calendar-alt fa-fw"></i> 2024-07-17</div><div class=info-item-2>Debug 日志：CPython GH-121528</div></div><div class=info-2><div class=info-item-1>Debug 日志系列第二篇，CPython 的 GH-121528，也是很有趣的调试和讨论过程，写出来希望帮助大家 太长不看的版：Python 3.13 Beta 版本中，因为 PEP 683 的实现+周边的改动，导致低版本下编译的一些扩展无法在 Python 3.13 中运行 开篇7月9日的时候，PyO3 社区提出了一个 Bug , 编号为 GH-1215281。这个 Bug 可以做这样的表示 假设我们有一个 C 扩展文件 12345678910111213141516171819202122232425262728#include &lt;Python.h&gt;static PyObject *foo_bar(PyObject *self, PyObject *args)&#123;	Py_INCREF(PyExc_TypeError);	PyErr_SetString(PyExc_TypeError, &quot;foo&quot;);	return NULL;&#125;static PyMethodDef foomethods[] =...</div></div></div></a><a class=pagination-related href=/posts/2024/10/02/how-to-extend-the-wasi-python-by-using-host-function-cn/ title="如何使用 WASMTIME 来运行 CPython for WASI，然后利用 Python 实现的 HostFunction 来扩展它？"><img class=cover src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=https://cdn.pixabay.com/photo/2023/02/04/07/38/cherry-blossoms-7766587_1280.jpg alt=cover><div class="info text-center"><div class=info-1><div class=info-item-1><i class="far fa-calendar-alt fa-fw"></i> 2024-10-02</div><div class=info-item-2>如何使用 WASMTIME 来运行 CPython for WASI，然后利用 Python 实现的 HostFunction 来扩展它？</div></div><div class=info-2><div class=info-item-1>国庆节搞了一个活，利用 wasmtime 来执行编译成 WASM/WASI 字节码的 CPython 虚拟机，并在宿主机一侧利用 Python 实现的 Host Function 来扩展它。 再次声明一下，这个只是我个人想搞的活，没有再任何生产环境中得到验证，just for fun（XDDD 正文首先我们简单介绍一下 WASM/WASI，这里我直接引用一下 AI 生成的 brief summary WebAssembly (WASM) 是一种低级编程语言,可在现代网页浏览器中运行。它提供接近原生的性能。WebAssembly System Interface (WASI) 是 WASM 的一个标准扩展,允许 WASM 程序在浏览器外运行,访问系统资源。这两项技术旨在提高 Web 应用性能,并使 WASM 在更多环境中可用。 而 WASM/WASI 技术路线核心的优势在于 跨平台的兼容性 多语言通过静态编译的支持 Native Sandbox 带来的安全性 所以 WASM/WASI 不仅在浏览器得到了广泛的应用， 现在其应用也逐渐扩展到了服务端。Serverless...</div></div></div></a><a class=pagination-related href=/posts/2025/04/26/3-14-is-one-of-the-best-python-version/ title="Python 3.14: Python 世界的一大步"><img class=cover src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=https://cdn.pixabay.com/photo/2023/02/04/07/50/flower-7766608_1280.jpg alt=cover><div class="info text-center"><div class=info-1><div class=info-item-1><i class="far fa-calendar-alt fa-fw"></i> 2025-04-26</div><div class=info-item-2>Python 3.14: Python 世界的一大步</div></div><div class=info-2><div class=info-item-1>Python 3.14 目前主要的一些主要的特性其实已经固定了，在我看来，Python 3.14 是一个未来很多年的一个核心版本。因为其确定了是时代的 Python调试生态的基准，这篇文章将会来聊聊这个 Python 世界中的史诗级改进 正文在我们日常调试 Python 代码的时候，我们经常会遇到这样一个问题，我们需要采样当前的 Python Runtime 的状态，进而进一步调试我们的 Python 进程 常见的手段莫过于两种 通过 eBPF + UProbe 等手段来触发 通过 process_vm_readv 等 Syscall 来直接整块读取内存 无论这两种方式都有一个核心的问题，我们怎么样来解析内存中的数据？ 用 https://github.com/jschwinger233/perf-examples/blob/main/cpython310_backtrace/bpf.c...</div></div></div></a><a class=pagination-related href=/posts/2024/02/10/CVE-2024-21626/ title="简单聊聊 CVE-2024-21626"><img class=cover src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=https://cdn.pixabay.com/photo/2023/02/06/01/14/superb-fairywren-7770904_1280.jpg alt=cover><div class="info text-center"><div class=info-1><div class=info-item-1><i class="far fa-calendar-alt fa-fw"></i> 2024-02-11</div><div class=info-item-2>简单聊聊 CVE-2024-21626</div></div><div class=info-2><div class=info-item-1>本来这篇文章应该在初一凌晨发的，但是拖延癌晚期，所以到现在才发，得反思下了 背景众所周知，容器逃逸并不是什么令人稀奇的问题了（不被逃逸的容器才是稀奇），2月初，runc 社区正式公布了一个船新的逃逸 CVE，参见 https://github.com/opencontainers/runc/security/advisories/GHSA-xr7r-f8xq-vfvv，版本横跨 1.0 到 1.1.11 这个 CVE 的核心特性在于“可以通过镜像分发的方式，成本很低的进行逃逸” 我们先来复现一下这个问题 我自己的环境是这样 看这篇博客的同学可以参考下面方式进行环境准备， 按照自己的发行版确保安装了，Docker, libseccomp, golang 按照下面方式进行环境安装 1234567891011git clone https://github.com/opencontainers/runcgit checkout v1.1.0-rc.1makesudo rm -rf $(which runc)sudo make installsudo systemctl...</div></div></div></a><a class=pagination-related href=/posts/2021/11/22/a-litte-introduction-about-nohdr-filed-in-skbuff/ title="聊聊 sk_buff 中一个冷门字段: nohdr"><img class=cover src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=https://cdn.pixabay.com/photo/2023/02/04/07/50/daisy-7766609_1280.jpg alt=cover><div class="info text-center"><div class=info-1><div class=info-item-1><i class="far fa-calendar-alt fa-fw"></i> 2021-11-22</div><div class=info-item-2>聊聊 sk_buff 中一个冷门字段: nohdr</div></div><div class=info-2><div class=info-item-1>今天遇到一个很有意思的问题，“nohdr 字段到底有什么用”，在这里写个水文简单记录一下 正文前情提要首先来说，不管介绍再冷门的字段，既然涉及到 SKBUFF ，那么就得先来对 sk_buff 做个简单的介绍 简而言之，sk_buff 是 Linux 网络子系统的核心数据结构，从链路层到我们最终对数据包的操作，背后都离不开 sk_buff sk_buff 要完全讲解基本就相当于把 Linux 网络系统完全讲解了，所以讲完是不可能讲完的，这辈子都不可能的！ 简单聊几个关键，可能会帮助大家理解我们本文提到的冷门字段 nohdr 的关键字段吧 首先来讲，最重要的三个字段：data ，mac 和 nh ，分别代表着当前 sk_buff 的数据区的起始地址，L2 header 的起始地址，L3 Header 的起始地址。用一个图方便大家理解 看了图的同学可能会有点明白了，实际上在内核里，也是一层一层的通过指针偏移，不断的添加新的 header 来处理网络请求。和我们直觉相符。可能有同学会问，我既然知道 L3 Header 的起始地址，IP 之类的 L3 协议的 header...</div></div></div></a></div></div><hr class=custom-hr><div id=post-comment><div class=comment-head><div class=comment-headline><i class="fas fa-comments fa-fw"></i><span> Comments</span></div></div><div class=comment-wrap><div><div id=disqus_thread></div></div></div></div></div><div class=aside-content id=aside-content><div class="card-widget card-info text-center"><div class=avatar-img><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://avatars.githubusercontent.com/u/7054676?v=4" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt=avatar></div><div class=author-info-name>Manjusaka</div><div class=author-info-description>热忱之心不可磨灭</div><div class=site-data><a href=/archives/ ><div class=headline>Articles</div><div class=length-num>102</div></a><a href=/tags/ ><div class=headline>Tags</div><div class=length-num>58</div></a><a href=/categories/ ><div class=headline>Categories</div><div class=length-num>39</div></a></div><a id=card-info-btn href=https://github.com/Zheaoli rel="external nofollow noreferrer"><i class="fab fa-github"></i><span>Follow Me</span></a><div class=card-info-social-icons><a class=social-icon href=https://github.com/ZheaoLi rel="external nofollow noreferrer" target=_blank title=Github><i class="fab fa-github"></i></a><a class=social-icon href=mailto:me@manjusaka.me rel="external nofollow noreferrer" target=_blank title=Email><i class="fas fa-envelope"></i></a><a class=social-icon href=https://twitter.com/Manjusaka_Lee rel="external nofollow noreferrer" target=_blank title=推特><i class="fab fa-twitter"></i></a><a class=social-icon href=/atom.xml target=_blank title=RSS><i class="fa-solid fa-feed"></i></a></div></div><div class="card-widget card-announcement"><div class=item-headline><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class=announcement_content>This is my Blog</div></div><div class=sticky_layout><div class=card-widget id=card-toc><div class=item-headline><i class="fas fa-stream"></i><span>Contents</span><span class=toc-percentage></span></div><div class="toc-content is-expand"><ol class=toc><li class="toc-item toc-level-2"><a class=toc-link href=#%E5%BC%80%E7%AF%87><span class=toc-number>1.</span> <span class=toc-text>开篇</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E6%A0%87%E5%87%86%E6%93%8D%E4%BD%9C%E4%B8%8B%E7%9A%84%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C><span class=toc-number>2.</span> <span class=toc-text>标准操作下的测试结果</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E7%A9%BA%E8%BD%AC%E6%B5%8B%E8%AF%95><span class=toc-number>3.</span> <span class=toc-text>空转测试</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E6%80%BB%E7%BB%93><span class=toc-number>4.</span> <span class=toc-text>总结</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class=item-headline><i class="fas fa-history"></i><span>Recent Posts</span></div><div class=aside-list><div class=aside-list-item><a class=thumbnail href=/posts/2025/04/26/3-14-is-one-of-the-best-python-version/ title="Python 3.14: Python 世界的一大步"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=https://cdn.pixabay.com/photo/2023/02/04/07/50/flower-7766608_1280.jpg onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Python 3.14: Python 世界的一大步"></a><div class=content><a class=title href=/posts/2025/04/26/3-14-is-one-of-the-best-python-version/ title="Python 3.14: Python 世界的一大步">Python 3.14: Python 世界的一大步</a><time datetime=2025-04-26T14:49:00.000Z title="Created 2025-04-26 22:49:00">2025-04-26</time></div></div><div class=aside-list-item><a class=thumbnail href=/posts/2025/03/23/a-simple-introduction-about-load-balance-algorithm/ title=简单聊聊常见的负载均衡算法><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=/images/pixai-1860500966642493859-3.png onerror='this.onerror=null,this.src="/img/404.jpg"' alt=简单聊聊常见的负载均衡算法></a><div class=content><a class=title href=/posts/2025/03/23/a-simple-introduction-about-load-balance-algorithm/ title=简单聊聊常见的负载均衡算法>简单聊聊常见的负载均衡算法</a><time datetime=2025-03-23T12:00:00.000Z title="Created 2025-03-23 20:00:00">2025-03-23</time></div></div><div class=aside-list-item><a class=thumbnail href=/posts/2025/02/03/a-little-thought-about-translation-about-yuru-camp/ title=简单吐槽一下摇曳露营的台配><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=https://cdn.pixabay.com/photo/2023/02/06/01/14/superb-fairywren-7770904_1280.jpg onerror='this.onerror=null,this.src="/img/404.jpg"' alt=简单吐槽一下摇曳露营的台配></a><div class=content><a class=title href=/posts/2025/02/03/a-little-thought-about-translation-about-yuru-camp/ title=简单吐槽一下摇曳露营的台配>简单吐槽一下摇曳露营的台配</a><time datetime=2025-02-03T18:00:00.000Z title="Created 2025-02-04 02:00:00">2025-02-04</time></div></div><div class=aside-list-item><a class=thumbnail href=/posts/2025/01/04/saka-is-baka/ title="Saka 馬鹿"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=https://cdn.pixabay.com/photo/2023/02/08/15/10/sculpture-7776861_1280.jpg onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Saka 馬鹿"></a><div class=content><a class=title href=/posts/2025/01/04/saka-is-baka/ title="Saka 馬鹿">Saka 馬鹿</a><time datetime=2025-01-04T18:30:00.000Z title="Created 2025-01-05 02:30:00">2025-01-05</time></div></div><div class=aside-list-item><a class=thumbnail href=/posts/2024/12/31/at-the-end-of-2024/ title=本当の僕らをありがとう><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=https://cdn.pixabay.com/photo/2023/02/04/07/38/cherry-blossoms-7766588_1280.jpg onerror='this.onerror=null,this.src="/img/404.jpg"' alt=本当の僕らをありがとう></a><div class=content><a class=title href=/posts/2024/12/31/at-the-end-of-2024/ title=本当の僕らをありがとう>本当の僕らをありがとう</a><time datetime=2024-12-31T15:00:00.000Z title="Created 2024-12-31 23:00:00">2024-12-31</time></div></div></div></div><div class="card-widget ads-wrap"><ins class=adsbygoogle style=display:block data-ad-client=ca-pub-7962287588031867 data-ad-slot=1257383027 data-ad-format=auto data-full-width-responsive=true></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div></div></div></main><footer id=footer><div id=footer-wrap><div class=copyright>&copy;2020 - 2025 By Manjusaka</div><div class=framework-info><span>Framework </span><a href=https://hexo.io rel="external nofollow noreferrer">Hexo 7.3.0</a><span class=footer-separator>|</span><span>Theme </span><a href=https://github.com/jerryc127/hexo-theme-butterfly rel="external nofollow noreferrer">Butterfly 5.3.5</a></div></div></footer></div><div id=rightside><div id=rightside-config-hide></div><div id=rightside-config-show><button id=darkmode type=button title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id=translateLink type=button title="Toggle Between Traditional and Simplified Chinese">简</button><button id=readmode type=button title="Reading Mode"><i class="fas fa-book-open"></i></button><button id=go-up type=button title="Back to Top"><span class=scroll-percent></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src=https://www.manjusaka.blog/js/utils.js></script><script src=https://www.manjusaka.blog/js/main.js></script><script src=https://www.manjusaka.blog/js/tw_cn.js></script><script src=https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js></script><script src=https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js></script><div class=js-pjax><script>(()=>{var e=()=>{var e;0!==(e=document.querySelectorAll("pre > code.mermaid")).length&&e.forEach(e=>{var t=document.createElement("pre"),d=(t.className="mermaid-src",t.hidden=!0,t.textContent=e.textContent,document.createElement("div"));d.className="mermaid-wrap",d.appendChild(t),e.parentNode.replaceWith(d)});let t=document.querySelectorAll("#article-container .mermaid-wrap");0!==t.length&&(e=()=>(e=>{window.loadMermaid=!0;document.documentElement.getAttribute("data-theme");e.forEach((e,t)=>{let d=e.firstElementChild;e=`%%{init:{ 'theme':'default'}}%%
`+d.textContent,t=mermaid.render("mermaid-"+t,e);let n=e=>{d.insertAdjacentHTML("afterend",e)};"string"==typeof t?n(t):t.then(({svg:e})=>n(e))})})(t),btf.addGlobalFn("themeChange",e,"mermaid"),window.loadMermaid?e():btf.getScript("https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js").then(e))};btf.addGlobalFn("encrypt",e,"mermaid"),window.pjax?e():document.addEventListener("DOMContentLoaded",e)})()</script><script>(()=>{let n="shuoshuo"===GLOBAL_CONFIG_SITE.pageType,o=e=>{window.DISQUS&&window.DISQUS.reset({reload:!0,config:e})};var e=(e,t)=>{n&&(window.shuoshuoComment.destroyDisqus=()=>{e.children.length&&(e.innerHTML="",e.classList.add("no-comment"))}),window.disqus_identifier=n?t:"/posts/2024/08/19/benchmark-for-python-web-framework-2024-part1-cn/",window.disqus_url=n?location.origin+t:"https://www.manjusaka.blog/posts/2024/08/19/benchmark-for-python-web-framework-2024-part1-cn/";function s(){this.page.url=disqus_url,this.page.identifier=disqus_identifier,this.page.title="2024 年了，是 Gevent 还是选择 asyncio Part 1？"}window.DISQUS?o(s):((t=document.createElement("script")).src="https://manjusakablog.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),document.head.appendChild(t)),btf.addGlobalFn("themeChange",()=>o(s),"disqus")};n?window.shuoshuoComment={loadComment:e}:e()})()</script></div><script defer=defer id=fluttering_ribbon mobile=false src=https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js></script><script src=https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!0,POWERMODE.mobile=!1,document.body.addEventListener("input",POWERMODE)</script><script async data-pjax src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><div id=algolia-search><div class=search-dialog><nav class=search-nav><span class=search-dialog-title>Search</span><button class=search-close-button><i class="fas fa-times"></i></button></nav><div class=search-wrap><div id=algolia-search-input></div><hr><div id=algolia-search-results><div id=algolia-hits></div><div id=algolia-pagination></div><div id=algolia-info><div class=algolia-stats></div><div class=algolia-poweredBy></div></div></div></div></div><div id=search-mask></div><script src=https://cdn.jsdelivr.net/npm/algoliasearch/dist/lite/builds/browser.umd.min.js></script><script src=https://cdn.jsdelivr.net/npm/instantsearch.js/dist/instantsearch.production.min.js></script><script src=https://www.manjusaka.blog/js/search/algolia.js></script></div></div><script data-pjax>function butterfly_swiper_injector_config(){var s=document.getElementById("recent-posts");console.log("已挂载butterfly_swiper"),s.insertAdjacentHTML("afterbegin",'<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="/posts/2024/12/31/at-the-end-of-2024/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.pixabay.com/photo/2023/02/04/07/38/cherry-blossoms-7766588_1280.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-12-31</span><a class="blog-slider__title" href="/posts/2024/12/31/at-the-end-of-2024/" alt="">本当の僕らをありがとう</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" href="/posts/2024/12/31/at-the-end-of-2024/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="/posts/2024/02/20/a-simple-discussion-about-the-ultraman/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.pixabay.com/photo/2023/02/07/14/45/snow-7774312_1280.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-02-20</span><a class="blog-slider__title" href="/posts/2024/02/20/a-simple-discussion-about-the-ultraman/" alt="">简单聊聊奥特曼中很有趣的细节</a><div class="blog-slider__text">ヒーロが必要なんだよ，金城君。ヒーローが必要なんだ！</div><a class="blog-slider__button" href="/posts/2024/02/20/a-simple-discussion-about-the-ultraman/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="/posts/2023/12/29/per-aspera-ad-astra/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.pixabay.com/photo/2023/01/30/19/40/gulls-7756481_1280.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-12-29</span><a class="blog-slider__title" href="/posts/2023/12/29/per-aspera-ad-astra/" alt="">Per aspera, Ad astra</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" href="/posts/2023/12/29/per-aspera-ad-astra/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="/posts/2023/10/24/open-source-is-simple-than-you-think/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.pixabay.com/photo/2023/02/04/07/50/daisy-7766609_1280.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-10-24</span><a class="blog-slider__title" href="/posts/2023/10/24/open-source-is-simple-than-you-think/" alt="">开源可能没你想的那么难</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" href="/posts/2023/10/24/open-source-is-simple-than-you-think/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="/posts/2023/06/25/love-and-hope-is-all-we-need/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/Zheaoli/yuque-py/assets/7054676/ea9460a2-e351-4b73-9f82-7aef6cd20c33" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-06-25</span><a class="blog-slider__title" href="/posts/2023/06/25/love-and-hope-is-all-we-need/" alt="">聊聊公益和助学</a><div class="blog-slider__text">很多时候，帮助人不需要那么多理由</div><a class="blog-slider__button" href="/posts/2023/06/25/love-and-hope-is-all-we-need/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="/posts/2023/12/28/how-do-I-build-homelab-part2/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.pixabay.com/photo/2023/01/14/19/50/flower-7718952_1280.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-12-28</span><a class="blog-slider__title" href="/posts/2023/12/28/how-do-I-build-homelab-part2/" alt="">家庭 Homelab 升级计划: v2</a><div class="blog-slider__text">人生嘛，Homelab 图个乐子</div><a class="blog-slider__button" href="/posts/2023/12/28/how-do-I-build-homelab-part2/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="/posts/2023/06/19/why-do-I-love-ultraman/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://user-images.githubusercontent.com/7054676/228287041-c86e7928-0da8-4097-b7ff-e575faa8cf8c.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-06-19</span><a class="blog-slider__title" href="/posts/2023/06/19/why-do-I-love-ultraman/" alt="">为什么奥特曼是我的信仰</a><div class="blog-slider__text">優しさを失わないでくれ。弱い者を労り互いに助け合い。</div><a class="blog-slider__button" href="/posts/2023/06/19/why-do-I-love-ultraman/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="/posts/2023/06/16/how-do-I-build-homelab/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.pixabay.com/photo/2023/02/08/15/10/sculpture-7776861_1280.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-06-16</span><a class="blog-slider__title" href="/posts/2023/06/16/how-do-I-build-homelab/" alt="">家庭 Homelab 升级计划</a><div class="blog-slider__text">人生嘛，Homelab 图个乐子</div><a class="blog-slider__button" href="/posts/2023/06/16/how-do-I-build-homelab/" alt="">详情   </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>')}for(var elist="undefined".split(","),cpage=location.pathname,epage="all",flag=0,i=0;i<elist.length;i++)cpage.includes(elist[i])&&flag++;("all"===epage&&0==flag||epage===cpage)&&butterfly_swiper_injector_config()</script><script defer=defer src=https://cdn.jsdelivr.net/npm/hexo-butterfly-swiper@1.0.12/lib/swiper.min.js></script><script defer=defer data-pjax src=https://cdn.jsdelivr.net/npm/hexo-butterfly-swiper@1.0.12/lib/swiper_init.js></script><script async src=//at.alicdn.com/t/font_2032782_8d5kxvn09md.js></script></body></html>